# Local Mode Configuration for Debugging Lambdas
# Copy this file to .env.local and fill in your values

# ============================================================================
# Local Mode Settings
# ============================================================================

# Enable local mode (set by local_runner.py automatically)
LOCAL_MODE=true

# Directory for local data (queue messages, reports, logs)
LOCAL_DATA_DIR=./local_data

# ============================================================================
# AWS Credentials
# ============================================================================

# Option 1: Use AWS Profile (recommended)
AWS_PROFILE=your-aws-profile-name
AWS_REGION=us-east-1

# Option 2: Use explicit credentials (not recommended for local dev)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1

# ============================================================================
# Scheduler Lambda Configuration
# ============================================================================

# Queue URL (dummy value for local mode, not actually used)
QUEUE_URL=local://queue

# SNS Topic ARN (dummy value for local mode)
SNS_TOPIC_ARN=arn:aws:sns:us-east-1:123456789012:sp-autopilot-notifications

# Enable dry-run mode (recommended for local testing)
DRY_RUN=true

# Enable Savings Plan types
ENABLE_COMPUTE_SP=true
ENABLE_DATABASE_SP=true
ENABLE_SAGEMAKER_SP=false

# Coverage and purchase settings
COVERAGE_TARGET_PERCENT=90.0
PURCHASE_STRATEGY_TYPE=simple
MAX_PURCHASE_PERCENT=25.0
MIN_PURCHASE_PERCENT=5.0

# Time windows
RENEWAL_WINDOW_DAYS=45
LOOKBACK_DAYS=60
MIN_DATA_DAYS=7

# Compute Savings Plans settings
COMPUTE_SP_TERM_MIX={"three_year": 0.67, "one_year": 0.33}
COMPUTE_SP_PAYMENT_OPTION=ALL_UPFRONT

# Database Savings Plans settings
DATABASE_SP_TERM_MIX={"three_year": 0.67, "one_year": 0.33}
DATABASE_SP_PAYMENT_OPTION=ALL_UPFRONT

# SageMaker Savings Plans settings (if enabled)
SAGEMAKER_SP_TERM_MIX={"three_year": 0.5, "one_year": 0.5}
SAGEMAKER_SP_PAYMENT_OPTION=ALL_UPFRONT

# Cross-account role (leave empty if not using cross-account)
# MANAGEMENT_ACCOUNT_ROLE_ARN=arn:aws:iam::123456789012:role/SP-Autopilot-CrossAccountRole

# Tags to apply to purchases (JSON format)
TAGS={"Environment": "Development", "ManagedBy": "SP-Autopilot"}

# ============================================================================
# Purchaser Lambda Configuration
# ============================================================================

# Maximum coverage cap (prevents over-purchasing)
MAX_COVERAGE_CAP=95.0

# ============================================================================
# Reporter Lambda Configuration
# ============================================================================

# Reports bucket (dummy value for local mode)
REPORTS_BUCKET=local://reports

# Report format (html or json)
REPORT_FORMAT=html

# Email reports (set to false for local testing)
EMAIL_REPORTS=false

# Webhook URLs (optional, for notifications)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
# TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR/WEBHOOK/URL

# ============================================================================
# Testing and Development
# ============================================================================

# Set to DEBUG for verbose logging
# LOG_LEVEL=DEBUG
